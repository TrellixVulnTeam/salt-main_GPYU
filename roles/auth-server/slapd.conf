{% set data = pillar['auth-server'] %}

# $OpenLDAP$
#
# See slapd.conf(5) for details on configuration options.
# This file should NOT be world readable.
#

include		/etc/ldap/schema/core.schema
include		/etc/ldap/schema/cosine.schema
include		/etc/ldap/schema/inetorgperson.schema

# Define global ACLs to disable default read access.

# Do not enable referrals until AFTER you have a working directory
# service AND an understanding of referrals.
#referral	ldap://root.openldap.org

pidfile		/usr/local/var/slapd.pid
argsfile	/usr/local/var/slapd.args

##########################################
# mdb database definitions
##########################################

database mdb
directory	{{ data['db-directory'] }}
suffix		{{ data['suffix'] }}
rootdn		{{ data['admin-user'] }}
rootpw		{{ data['admin-password'] }}
